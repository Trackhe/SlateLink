# Data Plane API (App spricht mit HAProxy Data Plane API)
# – Mit Docker-Compose: http://haproxy:5555
# – App lokal (ohne Docker): http://localhost:5555
DATAPLANE_API_URL=http://haproxy:5555
DATAPLANE_API_USER=admin
DATAPLANE_API_PASSWORD=adminpwd

# App (SQLite). Stats kommen aus der Data Plane API (/v3/.../stats/native), nicht aus der Stats-URL.
# – HAPROXY_STATS_URL nur nötig, falls du die HTML-Stats-Seite (8404) direkt ansprechen willst.
# – Docker: /data/slatelink.db (mit Volume gemounted)
# – Lokal: ./data/slatelink.db (relativer Pfad)
DB_PATH=/data/slatelink.db
HAPROXY_STATS_URL=http://haproxy:8404/stats

# HAProxy-Log auf der Audit-Seite: Container-Name für "docker logs" (App muss Docker-Zugriff haben)
# HAPROXY_CONTAINER_NAME=haproxy_main
# Alternativ: Pfad zu einer Log-Datei (z. B. gemountetes Volume)
# HAPROXY_LOG_FILE=/path/to/haproxy.log

# Stats-Snapshot-Timer (optional): Intervall in ms (0 = aus), Retention in Tagen
# STATS_SNAPSHOT_INTERVAL_MS=60000
# STATS_RETENTION_DAYS=30

# Zertifikat-Sync (optional): Runtime → Storage alle N ms (0 = aus). Erfasst Scheduler-Renewals.
# Default 3600000 (1 h). Nach Ablauf schreibt die App alle geladenen Certs auf Disk (PUT/POST).
# CERT_SYNC_INTERVAL_MS=3600000

# PEM-Anzeige für Zertifikate (optional, eine Option reicht):
# – Docker exec (SlateLink auf Host oder mit Docker-Zugriff): "dump ssl cert" im Container,
#   funktioniert auch für Certs nur im RAM. Container braucht socat + base64.
# HAPROXY_CONTAINER_NAME=haproxy_main
# HAPROXY_STATS_SOCKET_IN_CONTAINER=/run/haproxy.stat
# – Certs-Dir: Certs auf Disk + domain_mapping.txt (crt-list für Binds). Wenn gesetzt: neue HTTPS-Binds
#   nutzen crt-list /usr/local/etc/haproxy/ssl/domain_mapping.txt statt Einzel-crt.
# HAPROXY_SSL_CERTS_DIR=/path/to/ssl
# – Direkter Socket (Unix/TCP): HAPROXY_STATS_SOCKET=/run/haproxy.stat oder 127.0.0.1:9999
# HAPROXY_STATS_SOCKET=

# Server (von SvelteKit/adapter-node genutzt)
# – Docker: 3000 (Standard)
# – Lokal: 5173 (Vite dev) oder 3000 (Production)
PORT=3000
HOST=0.0.0.0
